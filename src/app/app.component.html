<app-tech-cursor></app-tech-cursor>

<main>
    @if (narrative.currentPhase() === 'BOOT') {
    <app-boot-sequence></app-boot-sequence>
    }

    @else if (narrative.currentPhase() === 'INTERFACE' || narrative.currentPhase() === 'TRAP') {

    <app-main-interface></app-main-interface>

    @if (narrative.currentPhase() === 'TRAP') {
    <app-system-trap></app-system-trap>
    }
    }

    @else if (narrative.currentPhase() === 'DESTRUCTION') {
    <app-voxel-destruction></app-voxel-destruction>
    }

    @else if (narrative.currentPhase() === 'REBIRTH') {
    @defer {
    <app-holo-rebirth></app-holo-rebirth>
    } @loading {
    <div style="color: cyan; position:absolute; top:50%; left:50%">LOADING_HOLO_CORE...</div>
    }
    }
</main>
<router-outlet />